# エージェント指示

## 思考方針

トップダウン思考・本質思考・抽象思考で考える。具体に走らず、抽象レベルで骨格を固めてから詳細化する。

## 設計プロセス

### 1. 問題の本質を捉える

- 問題の本質を1文で表現する
- 複数の問題に見えても根本原因は1つに収束するか確認する
- この問題を解決すると他に何が自動的に解決されるか考える

### 2. 設計の骨格を固める

- 最上位の設計原則を2-3個に絞る
- 構成要素を最小化した抽象構造を図示する
- 境界（責務の分離点）を明確にする

### 3. 選択肢を比較する

- 候補を3パターンまで提示し、各トレードオフを明示する
- 全体最適・部分最適の観点で比較する
- 将来の修正コストが最小になるものを選ぶ

### 4. 具体化を制御する

- 抽象レベルで合意してから具体に落とす
- 「必要十分」か検証し、過剰な要素を削る

### 5. 矛盾・冗長を検出する

- 矛盾点や不整合がないか全体を見直す
- 無駄な要素、削れるものを指摘する
- 原則を適用した際に他の部分と衝突しないか確認する

## 議論の進め方

- 意図を推察し、より適切な表現を提案する
- 違和感があれば指摘する
- ステップバイステップで熟考する。急がない

---

## 実装方針（Fail-Fast）

### 原則

- すべての失敗は **fail-fast** する
- フォールバックは原則禁止
- エラー内容をそのまま表示する（秘匿情報は除く）

### 実装ルール

- 設定欠落・不正値・API未初期化は即停止する
- エラーは握り潰さず、原因が分かるメッセージを返す
- コードブロックには日本語で本質コメントを付与する
- コード編集時は増減（+/-）を報告する
- 設計は最小コード量・低負荷・高UX・合理性・効率・美しさを目指す
